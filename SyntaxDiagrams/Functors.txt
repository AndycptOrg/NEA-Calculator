




                                                                                                                                            ┌───────────┐
                                                                                                                                            │ Functor   │
                                                                                                                                            └───────────┘

                                                                                                                                                                                                                                          ┌─────────────┐
                                                                                                                                   d(x)=x────────────────────────────────────────────────────────────────────────────────────────────────►│Functor      │
                                                                                                                                                                                                                                          ├─────────────┤
                                                                                                                                                                                                                          ┌─────────────┐ │ Root        │
                                                                                                                                   f(x)=sin(x)───────────────────────────────────────────────────────────────────────────►│Functor      │ │ ┌─────────┐ │
                                                                                                                                                                                                                          ├─────────────┤ │ │Variable │ │
                                                                                                                                                                                          ┌─────────────────────────────┐ │name         │ │ ├─────────┤ │
                                                                                                                                   g(x)=x+3──────────────────────────────────────────────►│Functor                      │ │             │ │ │x        │ │
                                                                                                                                                                                          ├─────────────────────────────┤ │__call__(x)  │ │ └─────────┘ │
                                                                                                                                                  ┌─────────────────────────────────────┐ │ Variables                   │ │ ┌─────────┐ │ │             │
                                                                                                                                   h(x)=sin(x)+3  │Functor                              │ │ x                           │ │ │x.name() │ │ └─────────────┘
                                                                                                                                                  ├─────────────────────────────────────┤ │ Root                        │ │ └─────────┘ │
                                                                                                                                                  │ Variables                           │ │ ┌─────────────────────────┐ │ │             │
                                                                                                                                                  │ x                                   │ │ │Add                      │ │ └─────────────┘
                                                                                                                                                  │ Root                                │ │ ├─────────────────────────┤ │
                                                                                                                                                  │ ┌─────────────────────────────────┐ │ │ │                         │ │
                                                                                                                                                  │ │Add                              │ │ │ │ ┌─────────┐ ┌─────────┐ │ │
                                                                                                                                                  │ ├─────────────────────────────────┤ │ │ │ │Variable │ │Literal  │ │ │
                                                                                                                                                  │ │                                 │ │ │ │ ├─────────┤ ├─────────┤ │ │
                                                                                                                                                  │ │ ┌─────────────────┐ ┌─────────┐ │ │ │ │ │x        │ │3        │ │ │
                                                                                                                                                  │ │ │Value            │ │Literal  │ │ │ │ │ └─────────┘ └─────────┘ │ │
                                                                                                                                                  │ │ ├─────────────────┤ ├─────────┤ │ │ │ │                         │ │
                                                                                                                                                  │ │ │                 │ │3        │ │ │ │ └─────────────────────────┘ │
                                                                                                                                                  │ │ │ ┌─────────────┐ │ └─────────┘ │ │ │                             │
                                                                                                                                                  │ │ │ │Functor      │ │             │ │ └─────────────────────────────┘
                                                                                                                                                  │ │ │ ├─────────────┤ │             │ │
                                                                                                                                                  │ │ │ │name         │ │             │ │
                                                                                                                                                  │ │ │ │             │ │             │ │
                                                                                                                                                  │ │ │ │__call__(x)  │ │             │ │
                                                                                                                                                  │ │ │ │ ┌─────────┐ │ │             │ │
                                                                                                                                                  │ │ │ │ │x.name() │ │ │             │ │
                                                                                                                                                  │ │ │ │ └─────────┘ │ │             │ │
                                                                                                                                                  │ │ │ │             │ │             │ │
                                                                                                                                                  │ │ │ └─────────────┘ │             │ │
                                                                                                                                                  │ │ │                 │             │ │
                                                                                                                                                  │ │ └─────────────────┘             │ │
                                                                                                                                                  │ │                                 │ │
                                                                                                                                                  │ └─────────────────────────────────┘ │
                                                                                                                                                  │                                     │
                                                                                                                                                  └─────────────────────────────────────┘










                                                                                                                                                                                                     f(a,b)=min(a+1, b-1)                                                      g(c)=1+f(3,c)*c
                                                                                                                                                                                                    ┌───────────────────────────────────────────────────────────────────┐      ┌─────────────────────────────────────────────────────────────┐
                                                                                                                                                                                                    │Function                                                           │      │Expression                                                   │
                                                                                                                                                                                                    ├───────────────────────────────────────────────────────────────────┤      ├─────────────────────────────────────────────────────────────┤
                                                                                                                                                                                                    │name                                                               │      │Root                                                         │   ┌───────────────┐
                                                                                                                                                          ┌───────────┐                             │min                                                                │      │ ┌─────────────────────────────────────────────────────────┐ │   │Assignment     │
                                                                                                                                                          │Assignment │                             │Operands                                                           │      │ │Plus                                                     │ │   ├───────────────┤
                                                                                                                                                          ├───────────┤                             │ ┌──────────────────────────────┐ ┌──────────────────────────────┐ │      │ ├─────────────────────────────────────────────────────────┤ │   │to be named    │ ───► begin function creation(c)
                                                                                                                                                          │To be named│  beginfunction              │ │Expression                    │ │Expression                    │ │      │ │                                                         │ │   │g              │
                                                                                                                                                          │f          │  creation                   │ ├──────────────────────────────┤ ├──────────────────────────────┤ │      │ │ ┌─────────┐ ┌─────────────────────────────────────────┐ │ │   │Variable       │
                                                                                               variable subs                                              │variables  │  (a,b)                      │ │Root                          │ │Root                          │ │      │ │ │Literal  │ │Multiply                                 │ │ │   │c              │
                                                                                                                                                          │a,b        │                             │ │ ┌──────────────────────────┐ │ │ ┌────────────────────────────┤ │      │ │ ├─────────┤ ├─────────────────────────────────────────┤ │ │   └───────────────┘
                                                                                                                                                          └───────────┘                             │ │ │Plus                      │ │ │ │Minus                       │ │      │ │ │1        │ │                                         │ │ │
                                                                                                                                                                                                    │ │ ├──────────────────────────┤ │ │ ├──────────────────────────┐ │ │      │ │ └─────────┘ │ ┌─────────────────────────┐ ┌─────────┐ │ │ │
                                                                                                  ┌────────────────┐       ┌────────────────┐             ┌──────────┐     ┌───────────────┐        │ │ │                          │ │ │ │                          │ │ │      │ │             │ │Function                 │ │Variable │ │ │ │                                                         variable subs
                                                                                             a -> │Functor         │  b -> │Functor         │             │ Variable │     │Functor(rooted)│        │ │ │ ┌──────────┐ ┌─────────┐ │ │ │ │ ┌──────────┐ ┌─────────┐ │ │ │      │ │             │ ├─────────────────────────┤ ├─────────┤ │ │ │
                                                                                                  ├────────────────┤       ├────────────────┤             ├──────────┤ ──► ├───────────────┤        │ │ │ │ Variable │ │Literal  │ │ │ │ │ │ Variable │ │Literal  │ │ │ │      │ │             │ │name                     │ │c        │ │ │ │        ┌─────────┐      ┌────────┐
                                                                                                  │Variables       │       │Variables       │             │ a        │     │variables      │        │ │ │ ├──────────┤ ├─────────┤ │ │ │ │ ├──────────┤ ├─────────┤ │ │ │      │ │             │ │f                        │ └─────────┘ │ │ │        │Literal  │      │Number  │
                                                                                                  │variables       │       │variables       │             └──────────┘     │a,b            │        │ │ │ │a         │ │1        │ │ │ │ │ │ b        │ │1        │ │ │ │      │ │             │ │Operands                 │             │ │ │        ├─────────┤ ────►├────────┤                         ┌────────────────┐
                                                                                                  │Root            │       │Root            │                              │Root           │        │ │ │ └──────────┘ └─────────┘ │ │ │ │ └──────────┘ └─────────┘ │ │ │      │ │             │ │ ┌─────────┐ ┌─────────┐ │             │ │ │        │3        │      │3       │                    c -> │Functor(rooted) │
                                                                                                  │ ┌──────────┐   │       │ ┌──────────┐   │                              │ ┌──────────┐  │        │ │ │                          │ │ │ │                          │ │ │      │ │             │ │ │Literal  │ │Variable │ │             │ │ │        └─────────┘      └────────┘                         ├────────────────┤
                                                                                                  │ │Variable  │   │       │ │Variable  │   │                              │ │Variable  │  │        │ │ └──────────────────────────┘ │ │ └──────────────────────────┘ │ │      │ │             │ │ ├─────────┤ ├─────────┤ │             │ │ │                                                            │Variables       │
                                                                                                  │ ├──────────┤   │       │ ├──────────┤   │                              │ ├──────────┤  │        │ │                              │ │                              │ │      │ │             │ │ │3        │ │c        │ │             │ │ │                                                            │variables       │
                                                                                                  │ │a         │   │       │ │b         │   │                              │ │a         │  │        │ └──────────────────────────────┘ └──────────────────────────────┘ │      │ │             │ │ └─────────┘ └─────────┘ │             │ │ │                                                            │Root            │
                                                                                                  │ └──────────┘   │       │ └──────────┘   │                              │ └──────────┘  │        │                                                                   │      │ │             │ │                         │             │ │ │        ┌─────────┐      ┌─────────────────┐                │ ┌──────────┐   │
                                                                                                  │                │       │                │                              │               │        └───────────────────────────────────────────────────────────────────┘      │ │             │ └─────────────────────────┘             │ │ │        │Variable │      │Functor(rooted)  │                │ │Variable  │   │
                                                                                                  └────────────────┘       └────────────────┘                              └───────────────┘                                                                                   │ │             │                                         │ │ │        ├─────────┤ ───► ├─────────────────┤                │ ├──────────┤   │
                                                                                                                                                                                                                                      │                                        │ │             └─────────────────────────────────────────┘ │ │        │c        │      │Variable         │                │ │c         │   │
                                                                                                                                                          ┌─────────┐      ┌────────────┐                                             │                                        │ │                                                         │ │        └─────────┘      │c                │                │ └──────────┘   │
                                                                                                                                                          │Literal  │      │Number      │                                             │                                        │ └─────────────────────────────────────────────────────────┘ │                         │Root             │                │                │
                                                                                                                                                          ├─────────┤ ───► ├────────────┤                                             │                                        │                                                             │                         │ ┌─────────┐     │                └────────────────┘
                                                                                                                                                          │1        │      │1           │                                             │                                        └─────────────────────────────────────────────────────────────┘                         │ │Variable │     │                                            ┌───────────────────────────────────────────────────────────────────┐
                                                                                                                                                          └─────────┘      └────────────┘                                             │                                                                                                                                │ ├─────────┤     │                                            │Functor(custom)                                                    │
                                                                                                                                                                                                                                      │                                                                        │                                                       │ │c        │     │                                            ├───────────────────────────────────────────────────────────────────┤
                                                                                                                                                                                                                                      │                                                                        │                                                       │ └─────────┘     │                                            │name                                                               │
                                                                                                                                                                                                                                      ▼                                                                        ▼                                                       │                 │                                            │min                                                                │
                                                                                                                                                                                                    ┌───────────────────────────────────────────────────────────────────┐                                                                                              └─────────────────┘                                            │Variable                                                           │
                                                                                                                                                             ┌──────────────────────────────┐       │Functor                                                            │                                                                                                                                                             │a,b                                                                │
                                                                                                          ┌───────────────┐                                  │Functor(rooted)               │       ├───────────────────────────────────────────────────────────────────┤                                                                                                                                                             │Operands                                                           │
                                                                                                          │Functor(rooted)│                                  ├──────────────────────────────┤       │name                                                               │                                                                             ┌─────────────────────────┐                                                     │ ┌──────────────────────────────┐ ┌──────────────────────────────┐ │
                                                                                                          ├───────────────┤                                  │Variables                     │       │min                                                                │                                                                             │Function                 │                                                     │ │Functor(rooted)               │ │Functor(rooted)               │ │
                                                                                                          │variables      │                                  │a,b                           │       │Variable                                                           │                           ┌────────┐ ┌─────────────┐                        ├─────────────────────────┤                                                     │ ├──────────────────────────────┤ ├──────────────────────────────┤ │
                                                                                        ┌──────────┐      │a,b            │                                  │Root                          │       │a,b                                                                │                           │Number  │ │Functor      │                        │name                     │                           ┌─────────────────┐       │ │Variables                     │ │Variables                     │ │
                                                                                        │Plus      │      │Root           │  ┌────────────┐                  │ ┌──────────────────────────┐ │       │Operands                                                           │                           ├────────┤ ├─────────────┤                        │f                        │                           │Functor(rooted)  │       │ │a,b                           │ │a,b                           │ │
                                                                                        │          │      │ ┌──────────┐  │  │Number      │                  │ │Plus                      │ │       │ ┌──────────────────────────────┐ ┌──────────────────────────────┐ │                           │3       │ │ Variables   │                        │Operands                 │                           ├─────────────────┤       │ │Root                          │ │Root                          │ │
                                                                                        └──────────┘      │ │Variable  │  │+ ├────────────┤ ──────────────►  │ ├──────────────────────────┤ │       │ │Functor                       │ │Functor                       │ │                           └────────┘ │ c           │                        │ ┌─────────┐ ┌─────────┐ │ ─────────►     ┌────────┐ │Variable         │       │ │ ┌──────────────────────────┐ │ │ ┌──────────────────────────┐ │ │
                                                                                                          │ ├──────────┤  │  │1           │                  │ │                          │ │       │ ├──────────────────────────────┤ ├──────────────────────────────┤ │                                      │ Root        │                        │ │Literal  │ │Variable │ │                │Number  │ │c                │       │ │ │Plus                      │ │ │ │Minus                     │ │ │
                                                                                                          │ │a         │  │  └────────────┘                  │ │ ┌──────────┐ ┌─────────┐ │ │       │ │Variables                     │ │Variables                     │ │      {a:3,b:c}                       │ ┌─────────┐ │                        │ ├─────────┤ ├─────────┤ │              f(├────────┤,│Root             │)      │ │ ├──────────────────────────┤ │ │ ├──────────────────────────┤ │ │
                                                                                                          │ └──────────┘  │                                  │ │ │ Variable │ │Literal  │ │ │       │ │a,b                           │ │a,b                           │ │                                      │ │Variable │ │                        │ │3        │ │c        │ │                │3       │ │ ┌─────────┐     │       │ │ │                          │ │ │ │                          │ │ │
                                                                                                          │               │                                  │ │ ├──────────┤ ├─────────┤ │ │       │ │Root                          │ │Root                          │ │   ◄────────────────                  │ ├─────────┤ │                        │ └─────────┘ └─────────┘ │                └────────┘ │ │Variable │     │       │ │ │ ┌──────────┐ ┌─────────┐ │ │ │ │ ┌──────────┐ ┌─────────┐ │ │ │
                                                                                                          └───────────────┘                                  │ │ │a         │ │1        │ │ │       │ │ ┌──────────────────────────┐ │ │ ┌──────────────────────────┐ │ │                                      │ │c        │ │                        │                         │                           │ ├─────────┤     │       │ │ │ │Variable  │ │Literal  │ │ │ │ │ │Variable  │ │Literal  │ │ │ │
                                                                                                                                                             │ │ └──────────┘ └─────────┘ │ │       │ │ │Plus                      │ │ │ │Minus                     │ │ │                                      │ └─────────┘ │                        └─────────────────────────┘                           │ │c        │     │       │ │ │ ├──────────┤ ├─────────┤ │ │ │ │ ├──────────┤ ├─────────┤ │ │ │
                                                                                                                                                             │ │                          │ │       │ │ ├──────────────────────────┤ │ │ ├──────────────────────────┤ │ │                                      │             │                                                                              │ └─────────┘     │       │ │ │ │a         │ │1        │ │ │ │ │ │b         │ │1        │ │ │ │
                                                                                                                                                             │ └──────────────────────────┘ │       │ │ │                          │ │ │ │                          │ │ │                                      └─────────────┘                                                                              │                 │       │ │ │ └──────────┘ └─────────┘ │ │ │ │ └──────────┘ └─────────┘ │ │ │
                                                                                                                                                             │                              │       │ │ │ ┌──────────┐ ┌─────────┐ │ │ │ │ ┌──────────┐ ┌─────────┐ │ │ │                                                                                                                                   └─────────────────┘       │ │ │                          │ │ │ │                          │ │ │
                                                                                                                                                             └──────────────────────────────┘       │ │ │ │ Variable │ │Literal  │ │ │ │ │ │ Variable │ │Literal  │ │ │ │  │                                                                                                                                                          │ │ └──────────────────────────┘ │ │ └──────────────────────────┘ │ │
                                                                                                                                                                                                    │ │ │ ├──────────┤ ├─────────┤ │ │ │ │ ├──────────┤ ├─────────┤ │ │ │  │                                                                                                                                                          │ │                              │ │                              │ │
                                                                                                                                                                                                    │ │ │ │ a        │ │1        │ │ │ │ │ │ b        │ │1        │ │ │ │  │                                                                                                                                                          │ └──────────────────────────────┘ └──────────────────────────────┘ │
                                                                                                                                                          ┌──────────┐     ┌───────────────┐        │ │ │ └──────────┘ └─────────┘ │ │ │ │ └──────────┘ └─────────┘ │ │ │  │          ┌─────────────────────────────────────────────┐                                                                                                 │                                                                   │
                                                                                                                                                          │Variable  │     │Functor(rooted)│        │ │ │                          │ │ │ │                          │ │ │  └────────► │Functor                                      │                                                                                                 └───────────────────────────────────────────────────────────────────┘
                                                                                                                                                          ├──────────┤ ──► ├───────────────┤        │ │ └──────────────────────────┘ │ │ └──────────────────────────┘ │ │             ├─────────────────────────────────────────────┤
                                                                                                                                                          │b         │     │variables      │        │ │                              │ │                              │ │             │name                                         │
                                                                                                                                                          └──────────┘     │a,b            │        │ └──────────────────────────────┘ └──────────────────────────────┘ │             │min                                          │                                                                                                   Variables sub
                                                                                                                                                                           │Root           │        │                                                                   │             │Variable                                     │
                                                                                                                                                                           │ ┌──────────┐  │        └───────────────────────────────────────────────────────────────────┘             │c                                            │
                                                                                                                                                                           │ │Variable  │  │                                                                                          │Operands                                     │                                                                                                        ┌────────────────┐
                                                                                                                                                                           │ ├──────────┤  │                                                                                          │ ┌────────┐ ┌──────────────────────────────┐ │                                                                                                   c -> │Functor(rooted) │
                                                                                                                                                                           │ │b         │  │                                                                                          │ │Number  │ │Functor                       │ │                                                                                                        ├────────────────┤
                                                                                                                                                                           │ └──────────┘  │                                                                                          │ ├────────┤ ├──────────────────────────────┤ │                                                                                                        │Variables       │
                                                                                                                                                                           │               │                                                                                          │ │4       │ │ Variables                    │ │                                                                                                        │variables       │
                                                                                                                                                                           └───────────────┘                                                                                          │ └────────┘ │ c                            │ │                                                                                                        │Root            │
                                                                                                                                                                                                                                                                                      │            │ Root                         │ │                                                                                                        │ ┌──────────┐   │
                                                                                                                                                          ┌─────────┐      ┌────────────┐                                                                                     1+      │            │  ┌─────────────────────────┐ │ │                                                                                                        │ │Variable  │   │
                                                                                                                                                          │Literal  │      │Number      │                                                                                             │            │  │Minus                    │ │ │  *c                                                                                                    │ ├──────────┤   │
                                                                                                                                                          ├─────────┤ ───► ├────────────┤                                                                                             │            │  ├─────────────────────────┤ │ │                                                                                                        │ │c         │   │
                                                                                                                                                          │1        │      │1           │                                                                                             │            │  │                         │ │ │                                                                                                        │ └──────────┘   │
                                                                                                                                                          └─────────┘      └────────────┘                                                                                             │            │  │ ┌─────────┐ ┌─────────┐ │ │ │                                                                                                        │                │
                                                                                                                                                                                                                                                                                      │            │  │ │Variable │ │Literal  │ │ │ │                                                                                                        └────────────────┘
                                                                                                                                                                                                                                                                                      │            │  │ ├─────────┤ ├─────────┤ │ │ │
                                                                                                                                                                                                                                                                                      │            │  │ │c        │ │1        │ │ │ │
                                                                                                                                                                                                                                                                                      │            │  │ └─────────┘ └─────────┘ │ │ │
                                                                                                                                                             ┌──────────────────────────────┐                                                                                         │            │  │                         │ │ │
                                                                                                          ┌───────────────┐                                  │Functor(rooted)               │                                                                                         │            │  └─────────────────────────┘ │ │                                                                                                                      ┌─────────────────┐
                                                                                                          │Functor(rroted)│                                  ├──────────────────────────────┤                                                                                         │            │                              │ │                                                                                                                      │Functor(rooted)  │
                                                                                                          ├───────────────┤                                  │Variables                     │                                                                                         │            └──────────────────────────────┘ │                                                                                                                      ├─────────────────┤
                                                                                                          │variables      │                                  │a,b                           │                                                                                         │                                             │                                                                                                      ┌────────┐      │Variable         │
                                                                                                          │a,b            │                                  │Root                          │                                                                                         └─────────────────────────────────────────────┘                                                                                                      │Number  │      │c                │
                                                                                      ┌─────────┐         │Root           │  ┌────────────┐                  │ ┌──────────────────────────┐ │                                                                                                                                                                                                                                           a->├────────┤   b->│Root             │
                                                                                      │Minus    │         │ ┌──────────┐  │  │Number      │                  │ │Minus                     │ │                                                                                                                                                                                                                                              │3       │      │ ┌─────────┐     │
                                                                                      │         │         │ │Variable  │  │- ├────────────┤ ──────────────►  │ ├──────────────────────────┤ │                                                                                                                                                                                                                                              └────────┘      │ │Variable │     │
                                                                                      │         │         │ ├──────────┤  │  │1           │                  │ │                          │ │                                                                             ┌─────────────────────────────────────────────────────────────────────────────────────┐                                                                                          │ ├─────────┤     │
                                                                                      └─────────┘         │ │b         │  │  └────────────┘                  │ │ ┌──────────┐ ┌─────────┐ │ │                                                                             │Functor                                                                              │                                                                                          │ │c        │     │
                                                                                                          │ └──────────┘  │                                  │ │ │ Variable │ │Literal  │ │ │                                                                             ├─────────────────────────────────────────────────────────────────────────────────────┤                                                                                          │ └─────────┘     │
                                                                                                          │               │                                  │ │ ├──────────┤ ├─────────┤ │ │                                                                             │Variables                                                                            │                                                                                          │                 │
                                                                                                          └───────────────┘                                  │ │ │b         │ │1        │ │ │                                                                             │c                                                                                    │                                                                                          └─────────────────┘
                                                                                                                                                             │ │ └──────────┘ └─────────┘ │ │                                                                             │Root                                                                                 │
                                                                                                                                                             │ │                          │ │                                                                             │ ┌─────────────────────────────────────────────────────────────────────────────────┐ │                                                                                                                             Variables sub
                                                                                                                                                             │ └──────────────────────────┘ │                                                                             │ │Plus                                                                             │ │                                                                      ┌──────────────────────────────┐
                                                                                                                                                             │                              │                                                                             │ ├─────────────────────────────────────────────────────────────────────────────────┤ │                                                                      │Functor(rooted)               │
                                                                                                                                                             └──────────────────────────────┘                                                                             │ │                                                                                 │ │                                                                      ├──────────────────────────────┤                            ┌────────────────┐
                                                                                                                                                                                                                                                                          │ │ ┌─────────┐ ┌─────────────────────────────────────────────────────────────────┐ │ │                                                                      │Variables                     │                       c -> │Functor(rooted) │
                                                                                                                                                                                                                                                                          │ │ │Literal  │ │Multiply                                                         │ │ │                                                                      │a,b                           │                            ├────────────────┤
                                                                                                                                                                                                                                                                          │ │ ├─────────┤ ├─────────────────────────────────────────────────────────────────┤ │ │                                                                      │Root                          │                            │Variables       │
                                                                                                                                ┌───────────────────────────────────────────────────────────────────┐                                                                     │ │ │1        │ │                                                                 │ │ │                                                                      │ ┌──────────────────────────┐ │                            │variables       │
                                                                                                                                │Functor(custom)                                                    │                                                                     │ │ └─────────┘ │ ┌─────────────────────────────────────────────────┐ ┌─────────┐ │ │ │                                                                      │ │Plus                      │ │                            │Root            │
                        ┌─────────────┐                                                                                         ├───────────────────────────────────────────────────────────────────┤                                                                     │ │             │ │Callable                                         │ │Variable │ │ │ │                                                                      │ ├──────────────────────────┤ │                            │ ┌──────────┐   │
                        │Function     │        ┌──────────────────────────────┐ ┌──────────────────────────────┐                │var                                                                │                                                                     │ │             │ ├─────────────────────────────────────────────────┤ ├─────────┤ │ │ │                                                                      │ │                          │ │(3,c)                       │ │Variable  │   │
                        ├─────────────┤        │Functor(rooted)               │ │Functor(rooted)               │                │a,b                                                                │                                                                     │ │             │ │Functor                                          │ │c        │ │ │ │                                                                      │ │ ┌──────────┐ ┌─────────┐ │ │                            │ ├──────────┤   │
                        │name         │        ├──────────────────────────────┤ ├──────────────────────────────┤                │Operands                                                           │                                                                     │ │             │ │ ┌─────────────────────────────────────────────┐ │ └─────────┘ │ │ │                                                                      │ │ │Variable  │ │Literal  │ │ │                            │ │c         │   │
                        │min          │        │Variables                     │ │Variables                     │                │ ┌──────────────────────────────┐ ┌──────────────────────────────┐ │                                                                     │ │             │ │ │Functor                                      │ │             │ │ │                                                                      │ │ ├──────────┤ ├─────────┤ │ │                            │ └──────────┘   │
                        └─────────────┘        │a,b                           │ │a,b                           │                │ │Functor(rooted)               │ │Functor(rooted)               │ │                                                                     │ │             │ │ ├─────────────────────────────────────────────┤ │             │ │ │                                                                      │ │ │a         │ │1        │ │ │                            │                │
                                               │Root                          │ │Root                          │                │ ├──────────────────────────────┤ ├──────────────────────────────┤ │                                                                     │ │             │ │ │name                                         │ │             │ │ │                                                                      │ │ └──────────┘ └─────────┘ │ │                            └────────────────┘
                                               │ ┌──────────────────────────┐ │ │ ┌──────────────────────────┐ │                │ │Variables                     │ │Variables                     │ │                                                                     │ │             │ │ │min                                          │ │             │ │ │                                                                      │ │                          │ │
                                               │ │Plus                      │ │ │ │Minus                     │ │                │ │a,b                           │ │a,b                           │ │                                                                     │ │             │ │ │Variable                                     │ │             │ │ │                                                                      │ └──────────────────────────┘ │                                         ┌─────────────────┐
                                               │ ├──────────────────────────┤ │ │ ├──────────────────────────┤ │                │ │Root                          │ │Root                          │ │                                                                     │ │             │ │ │c                                            │ │             │ │ │                                                                      │                              │                                         │Functor(rooted)  │
                                               │ │                          │ │ │ │                          │ │ ─────────────► │ │ ┌──────────────────────────┐ │ │ ┌──────────────────────────┐ │ │                                                                     │ │             │ │ │Operands                                     │ │             │ │ │                                                                      └──────────────────────────────┘                                         ├─────────────────┤
                                               │ │ ┌──────────┐ ┌─────────┐ │ │ │ │ ┌──────────┐ ┌─────────┐ │ │                │ │ │Plus                      │ │ │ │Minus                     │ │ │                                                                     │ │             │ │ │ ┌────────┐ ┌──────────────────────────────┐ │ │             │ │ │                                                                                                                               ┌────────┐      │Variable         │
                                               │ │ │Variable  │ │Literal  │ │ │ │ │ │Variable  │ │Literal  │ │ │                │ │ ├──────────────────────────┤ │ │ ├──────────────────────────┤ │ │                                                                     │ │             │ │ │ │Number  │ │Functor                       │ │ │             │ │ │                                                                                                                               │Number  │      │c                │
                                               │ │ ├──────────┤ ├─────────┤ │ │ │ │ ├──────────┤ ├─────────┤ │ │                │ │ │                          │ │ │ │                          │ │ │                                                                     │ │             │ │ │ ├────────┤ ├──────────────────────────────┤ │ │             │ │ │                                                                                                                            a->├────────┤   b->│Root             │
                                               │ │ │a         │ │1        │ │ │ │ │ │b         │ │1        │ │ │                │ │ │ ┌──────────┐ ┌─────────┐ │ │ │ │ ┌──────────┐ ┌─────────┐ │ │ │                                                                     │ │             │ │ │ │4       │ │ Variables                    │ │ │             │ │ │                                                                                                                               │3       │      │ ┌─────────┐     │
                                               │ │ └──────────┘ └─────────┘ │ │ │ │ └──────────┘ └─────────┘ │ │                │ │ │ │Variable  │ │Literal  │ │ │ │ │ │Variable  │ │Literal  │ │ │ │                                                                     │ │             │ │ │ └────────┘ │ c                            │ │ │             │ │ │                                                                                                                               └────────┘      │ │Variable │     │
                                               │ │                          │ │ │ │                          │ │                │ │ │ ├──────────┤ ├─────────┤ │ │ │ │ ├──────────┤ ├─────────┤ │ │ │                                                                     │ │             │ │ │            │ Root                         │ │ │             │ │ │                                                                                                                                               │ ├─────────┤     │
                                               │ └──────────────────────────┘ │ │ └──────────────────────────┘ │                │ │ │ │a         │ │1        │ │ │ │ │ │b         │ │1        │ │ │ │                                                                     │ │             │ │ │            │  ┌─────────────────────────┐ │ │ │             │ │ │                                                                                                                                               │ │c        │     │
                                               │                              │ │                              │                │ │ │ └──────────┘ └─────────┘ │ │ │ │ └──────────┘ └─────────┘ │ │ │                                                                     │ │             │ │ │            │  │Minus                    │ │ │ │             │ │ │                                                                                                                                               │ └─────────┘     │
                                               └──────────────────────────────┘ └──────────────────────────────┘                │ │ │                          │ │ │ │                          │ │ │                                                                     │ │             │ │ │            │  ├─────────────────────────┤ │ │ │             │ │ │                                                                                                                                               │                 │
                                                                                                                                │ │ └──────────────────────────┘ │ │ └──────────────────────────┘ │ │                                                                     │ │             │ │ │            │  │                         │ │ │ │             │ │ │                                                                                                                                               └─────────────────┘
                                                                                                                                │ │                              │ │                              │ │                                                                     │ │             │ │ │            │  │ ┌─────────┐ ┌─────────┐ │ │ │ │             │ │ │
                                                                                                                                │ └──────────────────────────────┘ └──────────────────────────────┘ │                                                                     │ │             │ │ │            │  │ │Variable │ │Literal  │ │ │ │ │             │ │ │                                                                                                                                               ┌─────────────────┐
                                                                                                                                │                                                                   │                                                                     │ │             │ │ │            │  │ ├─────────┤ ├─────────┤ │ │ │ │             │ │ │                                                                                                                                               │Functor(rooted)  │
                                                                                                                                └───────────────────────────────────────────────────────────────────┘                                                                     │ │             │ │ │            │  │ │c        │ │1        │ │ │ │ │             │ │ │                                                                                                                                               ├─────────────────┤
                                                                                                                                                                                                                                                                          │ │             │ │ │            │  │ └─────────┘ └─────────┘ │ │ │ │             │ │ │                                                                                                                               ┌────────┐      │Variable         │
                                                                                                                                                                                                                                                                          │ │             │ │ │            │  │                         │ │ │ │             │ │ │                                                                                                                               │Number  │      │c                │
                                                                                                                                                                 end_function_creation                                                                                    │ │             │ │ │            │  └─────────────────────────┘ │ │ │             │ │ │                                                                                                                            a->├────────┤   b->│Root             │
                                                                                                                                                                                                                                                                          │ │             │ │ │            │                              │ │ │             │ │ │                                                                                                                               │3       │      │ ┌─────────┐     │
                                                                                                                                                                                                                                                                          │ │             │ │ │            └──────────────────────────────┘ │ │             │ │ │                                                                                                                               └────────┘      │ │Variable │     │
                                                                                                                                                                                                                                                                          │ │             │ │ │                                             │ │             │ │ │                                                                                                                                               │ ├─────────┤     │
                                                                                                                                                                                                                                                                          │ │             │ │ └─────────────────────────────────────────────┘ │             │ │ │                                                                                                                                               │ │c        │     │
                                                                                                                                                                                                                                                                          │ │             │ │                                                 │             │ │ │                                                                                                                                               │ └─────────┘     │
                                                                                                                                                                                                                                                                          │ │             │ └─────────────────────────────────────────────────┘             │ │ │                                                                                                                                               │                 │
                                                                                                            ┌──────────────────────────────┐                                                                                                                              │ │             │                                                                 │ │ │                                                                                                                                               └─────────────────┘
                                                                                                            │Expression                    │                                                                                                                              │ │             └─────────────────────────────────────────────────────────────────┘ │ │
                                                                                           f(5,2)           ├──────────────────────────────┤                                                                                                                              │ │                                                                                 │ │                                                                                                               ┌──────────┐     ┌───────────┐
                                                                                                            │Root                          │                                                                                                                              │ └─────────────────────────────────────────────────────────────────────────────────┘ │                                                                                                               │Variable  │     │Number     │
                                                                                                            │ ┌──────────────────────────┐ │                                                                                                                              │                                                                                     │                                                                                                               ├──────────┤  ──►├───────────┤
                                                                                                            │ │Function                  │ │                                                                                                                              └─────────────────────────────────────────────────────────────────────────────────────┘                                                                                                               │a         │     │3          │
                                                                                                            │ ├──────────────────────────┤ │                                                                                                                                                                                                                                                                                                                                    └──────────┘     └───────────┘
                                                                                                            │ │name                      │ │
                                                                                                            │ │f                         │ │                                                                                                                                                                                                                                                                                                                                    ┌──────────┐      ┌──────────┐
                                                                                                            │ │Operands                  │ │                                                                                                                                                                                                                                                                                                                                    │Literal   │      │Number    │
                                                                                                            │ │ ┌─────────┐ ┌──────────┐ │ │                                                                                                                                                                                                                                                                                                                                    ├──────────┤ ───► ├──────────┤
                                                                                                            │ │ │Literal  │ │Literal   │ │ │                                                                                                                                                                                                                                                                                                                                    │1         │      │1         │
                                                                                                            │ │ ├─────────┤ ├──────────┤ │ │                                                                                                                                                                                                                                                                                                                                    └──────────┘      └──────────┘
                                                                                                            │ │ │5        │ │2         │ │ │
                                                                                                            │ │ └─────────┘ └──────────┘ │ │                                                                                                                                                                                                                                                                                                                                                     ┌──────────┐ ┌──────────┐     ┌──────────┐
                                                                                                            │ │                          │ │                                                                                                                                                                                                                                                                                                                                     ┌───────┐       │Number    │ │Number    │     │Number    │
                                                                                                            │ └──────────────────────────┘ │                                                                                                                                                                                                                                                                                                                                     │Plus   │  ────►├──────────┤+├──────────┤  ──►├──────────┤
                                                                                                            │                              │                                                                                                                                                                                                                                                                                                                                     └───────┘       │3         │ │1         │     │4         │
                                                                                                            └──────────────────────────────┘                                                                                                                                                                                                                                                                                                                                                     └──────────┘ └──────────┘     └──────────┘

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Variables sub
                                                                                                                                                                                                                                                                                                                                                                                                                                       ┌──────────────────────────────┐
                                                                                                                                                                                                                                                                                                                                                                                                                                       │Functor(rooted)               │
                                                                                                 ┌─────────┐ ┌─────────┐                                                                                                                                                                                                                                                                                                               ├──────────────────────────────┤                            ┌────────────────┐
                                                                                                 │Number   │ │Number   │                                                                                                                                                                                                                                                                                                               │Variables                     │                       c -> │Functor(rooted) │
                                                                                               f(├─────────┤,├─────────┤)                                                                                                                                                                                                                                                                                                              │a,b                           │                            ├────────────────┤
                                                                                                 │5        │ │2        │                                                                                                                                                                                                                                                                                                               │Root                          │                            │Variables       │
                                                                                                 └─────────┘ └─────────┘                                                                                                                                                                                                                                                                                                               │ ┌──────────────────────────┐ │                            │variables       │
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ │Minus                     │ │                            │Root            │
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ ├──────────────────────────┤ │                            │ ┌──────────┐   │
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ │                          │ │(3,c)                       │ │Variable  │   │
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ │ ┌──────────┐ ┌─────────┐ │ │                            │ ├──────────┤   │
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ │ │Variable  │ │Literal  │ │ │                            │ │c         │   │
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ │ ├──────────┤ ├─────────┤ │ │                            │ └──────────┘   │
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ │ │b         │ │1        │ │ │                            │                │
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ │ └──────────┘ └─────────┘ │ │                            └────────────────┘
                                                                                                                                                                                                                                                                                                                                                                                                                                       │ │                          │ │
                                                                                              ┌──────────────────────────────┐                                                                                                                                                                                                                                                                                                         │ └──────────────────────────┘ │                                         ┌─────────────────┐
                                                                                              │Functor(rooted)               │                                                                                                                                                                                                                                                                                                         │                              │                                         │Functor(rooted)  │
                                                                                              ├──────────────────────────────┤                                                                                                                                                                                                                                                                                                         └──────────────────────────────┘                                         ├─────────────────┤
                                                                                              │Variables                     │                                                                                                                                                                                                                                                                                                                                                                  ┌────────┐      │Variable         │
                                                                                              │a,b                           │                                                                                                                                                                                                                                                                                                                                                                  │Number  │      │c                │
                                                                                              │Root                          │                                                                                                                                                                                                                                                                                                                                                               a->├────────┤   b->│Root             │
                                                                                              │ ┌──────────────────────────┐ │                                                                                                                                                                                                                                                                                                                                                                  │3       │      │ ┌─────────┐     │
                                                                                              │ │Plus                      │ │                                                                                                                                                                                                                                                                                                                                                                  └────────┘      │ │Variable │     │
                                                                                              │ ├──────────────────────────┤ │                                                                                                                                                                                                                                                                                                                                                                                  │ ├─────────┤     │
                                                                                              │ │                          │ │                                                                                                                                                                                                                                                                                                                                                                                  │ │c        │     │
                                                                                              │ │ ┌──────────┐ ┌─────────┐ │ │(5,2)                                                                                                                                                                                                                                                                                                                                                                             │ └─────────┘     │
                                                                                              │ │ │Variable  │ │Literal  │ │ │                                                                                                                                                                                                                                                                                                                                                                                  │                 │
                                                                                              │ │ ├──────────┤ ├─────────┤ │ │                                                                                                                                                                                                                                                                                                                                                                                  └─────────────────┘
                                                                                              │ │ │a         │ │1        │ │ │
                                                                                              │ │ └──────────┘ └─────────┘ │ │                                                                                                                                                                                                                                                                                                                                                                                  ┌─────────────────┐
                                                                                              │ │                          │ │                                                                                                                                                                                                                                                                                                                                                                                  │Functor(rooted)  │
                                                                                              │ └──────────────────────────┘ │                                                                                                                                                                                                                                                                                                                                                                                  ├─────────────────┤
                                                                                              │                              │                                                                                                                                                                                                                                                                                                                                                                  ┌────────┐      │Variable         │
                                                                                              └──────────────────────────────┘                                                                                                                                                                                                                                                                                                                                                                  │Number  │      │c                │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             a->├────────┤   b->│Root             │
                                                                                        ┌──────────────────────────────┐                                                                                                                                                                                                                                                                                                                                                                        │3       │      │ ┌─────────┐     │
                                                                                        │Functor(rooted)               │                                                                                                                                                                                                                                                                                                                                                                        └────────┘      │ │Variable │     │
                                                                                        ├──────────────────────────────┤                                                                                                                                                                                                                                                                                                                                                                                        │ ├─────────┤     │
                                                                                        │Variables                     │                                                                                                                                                                                                                                                                                                                                                                                        │ │c        │     │
                                                                                        │a,b                           │                                                                                                                                                                                                                                                                                                                                                                                        │ └─────────┘     │
                                                                                        │Root                          │                                                                                                                                                                                                                                                                                                                                                                                        │                 │
                                                                                        │ ┌──────────────────────────┐ │                                                                                                                                                                                                                                                                                                                                                                                        └─────────────────┘
                                                                                        │ │Minus                     │ │
                                                                                        │ ├──────────────────────────┤ │                                                                                                                                                                                                                                                                                                                                                        ┌──────────┐     ┌─────────────────┐
                                                                                        │ │                          │ │(5,2)                                                                                                                                                                                                                                                                                                                                                   │Variable  │     │Functor(rooted)  │
                                                                                        │ │ ┌──────────┐ ┌─────────┐ │ │                                                                                                                                                                                                                                                                                                                                                        ├──────────┤  ──►├─────────────────┤
                                                                                        │ │ │Variable  │ │Literal  │ │ │                                                                                                                                                                                                                                                                                                                                                        │b         │     │Variable         │
                                                                                        │ │ ├──────────┤ ├─────────┤ │ │                                                                                                                                                                                                                                                                                                                                                        └──────────┘     │c                │
                                                                                        │ │ │b         │ │1        │ │ │                                                                                                                                                                                                                                                                                                                                                                         │Root             │
                                                                                        │ │ └──────────┘ └─────────┘ │ │                                                                                                                                                                                                                                                                                                                                                                         │ ┌─────────┐     │
                                                                                        │ │                          │ │                                                                                                                                                                                                                                                                                                                                                                         │ │Variable │     │
                                                                                        │ └──────────────────────────┘ │                                                                                                                                                                                                                                                                                                                                                                         │ ├─────────┤     │
                                                                                        │                              │                                                                                                                                                                                                                                                                                                                                                                         │ │c        │     │
                                                                                        └──────────────────────────────┘                                                                                                                                                                                                                                                                                                                                                                         │ └─────────┘     │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │                 │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 └─────────────────┘

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ┌──────────┐      ┌──────────┐
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                │Literal   │      │Number    │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ├──────────┤ ───► ├──────────┤
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                │1         │      │1         │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                └──────────┘      └──────────┘

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ┌─────────────────┐                 ┌───────────────────────────┐
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ┌───────┐       │Functor(rooted)  │                 │Functor(rooted)            │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │Minus  │  ────►├─────────────────┤                 ├───────────────────────────┤
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 └───────┘       │Variable         │                 │Variable                   │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │c                │ ┌──────────┐    │c                          │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │Root             │ │Number    │    │Root                       │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │ ┌─────────┐     │-├──────────┤ ──►│ ┌───────────────────────┐ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │ │Variable │     │ │1         │    │ │Minus                  │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │ ├─────────┤     │ └──────────┘    │ ├───────────────────────┤ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │ │c        │     │                 │ │                       │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │ └─────────┘     │                 │ │ ┌─────────┐ ┌───────┐ │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 │                 │                 │ │ │Variable │ │Literal│ │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 └─────────────────┘                 │ │ ├─────────┤ ├───────┤ │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │c        │ │1      │ │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ └─────────┘ └───────┘ │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │                       │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ └───────────────────────┘ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     │                           │
                                                                                                                                                                                                                                                                                                                                                                                               ┌───────────────────────────┐                                                                                                         └───────────────────────────┘
                                                                                                                                                                                                                                                                                                                                                                                               │Functor(rooted)            │             Variables sub
                                                                                                                                                                                                                                                                                                                                                                                               ├───────────────────────────┤
                                                                                                                                                                                                                                                                                                                                                                                               │Variable                   │                                                                   ┌────────────────────────────────────────────────┐
                                                                                                                                                                                                                                                                                   ┌─────────────────────────────────────────────────────────────┐                                             │c                          │                  ┌────────────────┐                               │Functor(custom)                                 │
                                                                                                                                                                                                                                                                                   │Expression                                                   │       ┌────────────────┐                    │Root                       │             c -> │Functor(rooted) │                               ├────────────────────────────────────────────────┤
                                                                                                                                                                                                                                                                                   ├─────────────────────────────────────────────────────────────┤       │Functor(custom) │                    │ ┌───────────────────────┐ │                  ├────────────────┤                               │Variables                                       │
                                                                                                                                                                                                                                                                                   │Root                                                         │       ├────────────────┤                    │ │Minus                  │ │                  │Variables       │                               │c                                               │
                                                                                                                                                                                                                                                                                   │ ┌─────────────────────────────────────────────────────────┐ │       │Variable        │    ┌────────┐      │ ├───────────────────────┤ │                  │variables       │                               │name                                            │
                                                                                                                                                                                                                                                                                   │ │Plus                                                     │ │       │a,b             │ ──►│Number  │      │ │                       │ │                  │Root            │                               │min                                             │
                                                                                                                                                                                                                                                                                   │ ├─────────────────────────────────────────────────────────┤ │       │name            │    ├────────┤      │ │ ┌─────────┐ ┌───────┐ │ │                  │ ┌──────────┐   │                               │Opernads                                        │
                                                                                                                                                                                                                                                                                   │ │                                                         │ │       │min             │    │4       │      │ │ │Variable │ │Literal│ │ │                  │ │Variable  │   │                               │ ┌────────┐ ┌───────────────────────────────┐   │
                                                                                                                                                                                                                                                                                   │ │ ┌─────────┐ ┌─────────────────────────────────────────┐ │ │       │                │    └────────┘      │ │ ├─────────┤ ├───────┤ │ │                  │ ├──────────┤   │                               │ │Number  │ │Callable                       │   │
                                                                                                                                                                                                                                                                                   │ │ │Literal  │ │Multiply                                 │ │ │       └────────────────┘                    │ │ │c        │ │1      │ │ │                  │ │c         │   │                               │ ├────────┤ ├───────────────────────────────┤   │
                                                                                                                                                                                                                                                                                   │ │ ├─────────┤ ├─────────────────────────────────────────┤ │ │                                             │ │ └─────────┘ └───────┘ │ │                  │ └──────────┘   │                   ───────────►│ │4       │ │                               │   │
                                                                                                                                                                                                                                                                                   │ │ │1        │ │                                         │ │ │                                             │ │                       │ │                  │                │                               │ └────────┘ │ ┌───────────────────────────┐ │   │
                                                                                                                                                                                                                                                                                   │ │ └─────────┘ │ ┌─────────────────────────┐ ┌─────────┐ │ │ │                                             │ └───────────────────────┘ │                  └────────────────┘                               │            │ │Functor(rooted)            │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │Function                 │ │Variable │ │ │ │                                             │                           │                                                                   │            │ ├───────────────────────────┤ │   │
                                                                                                                                                                                                                                                                                   │ │             │ ├─────────────────────────┤ ├─────────┤ │ │ │                                             └───────────────────────────┘                               ┌─────────────────┐                 │            │ │Variable                   │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │name                     │ │c        │ │ │ │                                                                                                         │Functor(rooted)  │                 │            │ │c                          │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │f                        │ └─────────┘ │ │ │                                                                                                         ├─────────────────┤                 │            │ │Root                       │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │Operands                 │             │ │ │                                                                                         ┌────────┐      │Variable         │                 │            │ │ ┌───────────────────────┐ │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │ ┌─────────┐ ┌─────────┐ │             │ │ │                                                                                         │Number  │      │c                │                 │            │ │ │Minus                  │ │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │ │Literal  │ │Variable │ │             │ │ │                                                                                      a->├────────┤   b->│Root             │                 │            │ │ ├───────────────────────┤ │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │ ├─────────┤ ├─────────┤ │             │ │ │                                                                                         │3       │      │ ┌─────────┐     │                 │            │ │ │                       │ │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │ │3        │ │c        │ │             │ │ │                                                                                         └────────┘      │ │Variable │     │                 │            │ │ │ ┌─────────┐ ┌───────┐ │ │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │ └─────────┘ └─────────┘ │             │ │ │                                                                                                         │ ├─────────┤     │                 │            │ │ │ │Variable │ │Literal│ │ │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ │                         │             │ │ │                                                                                                         │ │c        │     │                 │            │ │ │ ├─────────┤ ├───────┤ │ │ │   │
                                                                                                                                                                                                                                                                                   │ │             │ └─────────────────────────┘             │ │ │                                                                                                         │ └─────────┘     │                 │            │ │ │ │c        │ │1      │ │ │ │   │
                                                                                                                                                                                                                                                                                   │ │             │                                         │ │ │                                                                                                         │                 │                 │            │ │ │ └─────────┘ └───────┘ │ │ │   │
                                                                                                                                                                                                                                                                                   │ │             └─────────────────────────────────────────┘ │ │                                                                                                         └─────────────────┘                 │            │ │ │                       │ │ │   │
                                                                                                                                                                                                                                                                                   │ │                                                         │ │                                                                                                                                             │            │ │ └───────────────────────┘ │ │   │
                                                                                                                                                                                                                                                                                   │ └─────────────────────────────────────────────────────────┘ │                                                                                                                                             │            │ │                           │ │   │
                                                                                                                                                                                                                                                                                   │                                                             │                                                                                                                                             │            │ └───────────────────────────┘ │   │
                                                                                                                                                                                                                                                                                   └─────────────────────────────────────────────────────────────┘                                                                                                                                             │            │                               │   │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               │            └───────────────────────────────┘   │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               │                                                │
                                                                                                                                                                                                                                                                                                                                                                             ┌──────────────┐                                                                                                  └────────────────────────────────────────────────┘
                                                                                                                                                                                                                                                                                                                                                       ┌──────────┐          │Functor(rooted│
                                                                                                                                                                                                                                                                                                                                                       │Variable  │          ├──────────────┤
                                                                                                                                                                                                                                                                                                                                                       ├──────────┤ ───────► │Variable      │
                                                                                                                                                                                                                                                                                                                                                       │c         │          │c             │
                                                                                                                                                                                                                                                                                                                                                       └──────────┘          │Root          │
                                                                                                                                                                                                                                                                                                                                                                             │ ┌──────────┐ │
                                                                                                                                                                                                                                                                                                                                                                             │ │Variable  │ │
                                                                                                                                                                                                                                                                                                                                                                             │ ├──────────┤ │
                                                                                                                                                                                                                                                                                                                                                                             │ │c         │ │
                                                                                                                                                                                                                                                                                                                                                                             │ └──────────┘ │
                                                                                                                                                                                                                                                                                                                                                                             │              │
                                                                                                                                                                                                                                                                                                                                                                             └──────────────┘

                                                                                                                                                                                                                                                                                                                                                       ┌─────────┐
                                                                                                                                                                                                                                                                                                                                                       │Multiply │ ───────► ┌──────────────────────────────────────────┐                             ┌────────────────────────────────────────────────────────────────────────┐
                                                                                                                                                                                                                                                                                                                                                       └─────────┘          │Functor(custom)                           │                             │Functor(rooted)                                                         │
                                                                                                                                                                                                                                                                                                                                                                            ├──────────────────────────────────────────┤                             ├────────────────────────────────────────────────────────────────────────┤
                                                                                                                                                                                                                                                                                                                                                                            │Variables                                 │                             │Variables                                                               │
                                                                                                                                                                                                                                                                                                                                                                            │c                                         │                             │c                                                                       │
                                                                                                                                                                                                                                                                                                                                                                            │name                                      │                             │Root                                                                    │
                                                                                                                                                                                                                                                                                                                                                                            │min                                       │                             │ ┌────────────────────────────────────────────────────────────────────┐ │
                                                                                                                                                                                                                                                                                                                                                                            │Opernads                                  │                             │ │Multiply                                                            │ │
                                                                                                                                                                                                                                                                                                                                                                            │ ┌────────┐ ┌───────────────────────────┐ │ ┌───────────────┐           │ ├────────────────────────────────────────────────────────────────────┤ │
                                                                                                                                                                                                                                                                                                                                                                            │ │Number  │ │Functor(rooted)            │ │ │Functor(rooted)│           │ │                                                                    │ │
                                                                                                                                                                                                                                                                                                                                                                            │ ├────────┤ ├───────────────────────────┤ │ ├───────────────┤           │ │ ┌──────────────────────────────────────────────┐     ┌───────────┐ │ │
                                                                                                                                                                                                                                                                                                                                                                            │ │4       │ │Variable                   │ │ │Variable       │           │ │ │Callable                                      │     │Variable   │ │ │
                                                                                                                                                                                                                                                                                                                                                                            │ └────────┘ │c                          │ │ │c              │           │ │ ├──────────────────────────────────────────────┤     ├───────────┤ │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │Root                       │ │ │Root           │           │ │ │                                              │     │c          │ │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ ┌───────────────────────┐ │ │*│ ┌──────────┐  │ ────────► │ │ │ ┌──────────────────────────────────────────┐ │     └───────────┘ │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ │Minus                  │ │ │ │ │Variable  │  │           │ │ │ │Functor(custom)                           │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ ├───────────────────────┤ │ │ │ ├──────────┤  │           │ │ │ ├──────────────────────────────────────────┤ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ │                       │ │ │ │ │c         │  │           │ │ │ │Variables                                 │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ │ ┌─────────┐ ┌───────┐ │ │ │ │ └──────────┘  │           │ │ │ │c                                         │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ │ │Variable │ │Literal│ │ │ │ │               │           │ │ │ │name                                      │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ │ ├─────────┤ ├───────┤ │ │ │ └───────────────┘           │ │ │ │min                                       │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ │ │c        │ │1      │ │ │ │                             │ │ │ │Opernads                                  │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ │ └─────────┘ └───────┘ │ │ │                             │ │ │ │ ┌────────┐ ┌───────────────────────────┐ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ │                       │ │ │                             │ │ │ │ │Number  │ │Functor(rooted)            │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │ └───────────────────────┘ │ │                             │ │ │ │ ├────────┤ ├───────────────────────────┤ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            │                           │ │                             │ │ │ │ │4       │ │Variable                   │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │            └───────────────────────────┘ │                             │ │ │ │ └────────┘ │c                          │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            │                                          │                             │ │ │ │            │Root                       │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                            └──────────────────────────────────────────┘                             │ │ │ │            │ ┌───────────────────────┐ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ │Minus                  │ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ ├───────────────────────┤ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ │                       │ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ │ ┌─────────┐ ┌───────┐ │ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ │ │Variable │ │Literal│ │ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ │ ├─────────┤ ├───────┤ │ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ │ │c        │ │1      │ │ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ │ └─────────┘ └───────┘ │ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ │                       │ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │ └───────────────────────┘ │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            │                           │ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │            └───────────────────────────┘ │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ │                                          │ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │ └──────────────────────────────────────────┘ │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ │                                              │                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │ └──────────────────────────────────────────────┘                   │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ │                                                                    │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                     │ └────────────────────────────────────────────────────────────────────┘ │
                                                                                                                                                                                                                                                                                                                                                      ┌───────────┐         ┌─────────┐                                                              │                                                                        │
                                                                                                                                                                                                                                                                                                                                                      │Literal    │         │Number   │                                                              └────────────────────────────────────────────────────────────────────────┘
                                                                                                                                                                                                                                                                                                                                                      ├───────────┤ ───────►├─────────┤
                                                                                                                                                                                                                                                                                                                                                      │1          │         │1        │
                                                                                                                                                                                                                                                                                                                                                      └───────────┘         └─────────┘
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ┌──────────────────────────────────────────────────────────────────────────────────────┐
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       │Functor(rooted)                                                                       │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ├──────────────────────────────────────────────────────────────────────────────────────┤
                                                                                                                                                                                                                                                                                                                                                                           ┌─────────┐ ┌────────────────────────────────────────────────────────────────────────┐      │Variables                                                                             │
                                                                                                                                                                                                                                                                                                                                                      ┌────────┐           │Number   │ │Functor(rooted)                                                         │      │c                                                                                     │
                                                                                                                                                                                                                                                                                                                                                      │Plus    │   ───────►├─────────┤+├────────────────────────────────────────────────────────────────────────┤      │Root                                                                                  │
                                                                                                                                                                                                                                                                                                                                                      └────────┘           │1        │ │Variables                                                               │      │ ┌──────────────────────────────────────────────────────────────────────────────────┐ │
                                                                                                                                                                                                                                                                                                                                                                           └─────────┘ │c                                                                       │      │ │Plus                                                                              │ │
                                                                                                                                                                                                                                                                                                                                                                                       │Root                                                                    │      │ ├──────────────────────────────────────────────────────────────────────────────────┤ │
                                                                                                                                                                                                                                                                                                                                                                                       │ ┌────────────────────────────────────────────────────────────────────┐ │      │ │                                                                                  │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │Multiply                                                            │ │      │ │ ┌───────────┐ ┌────────────────────────────────────────────────────────────────┐ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ ├────────────────────────────────────────────────────────────────────┤ │      │ │ │Literal    │ │Multiply                                                        │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │                                                                    │ │      │ │ ├───────────┤ ├────────────────────────────────────────────────────────────────┤ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ ┌──────────────────────────────────────────────┐     ┌───────────┐ │ │      │ │ │1          │ │                                                                │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │Callable                                      │     │Variable   │ │ │      │ │ └───────────┘ │ ┌──────────────────────────────────────────────┐ ┌───────────┐ │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ ├──────────────────────────────────────────────┤     ├───────────┤ │ │      │ │               │ │Callable                                      │ │Variable   │ │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │                                              │     │c          │ │ │      │ │               │ ├──────────────────────────────────────────────┤ ├───────────┤ │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ ┌──────────────────────────────────────────┐ │     └───────────┘ │ │      │ │               │ │                                              │ │c          │ │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │Functor(custom)                           │ │                   │ │      │ │               │ │ ┌──────────────────────────────────────────┐ │ └───────────┘ │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ ├──────────────────────────────────────────┤ │                   │ │      │ │               │ │ │Functor(custom)                           │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │Variables                                 │ │                   │ │      │ │               │ │ ├──────────────────────────────────────────┤ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │c                                         │ │                   │ │      │ │               │ │ │Variables                                 │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │name                                      │ │                   │ │      │ │               │ │ │c                                         │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │min                                       │ │                   │ │      │ │               │ │ │name                                      │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │Opernads                                  │ │                   │ │      │ │               │ │ │min                                       │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │ ┌────────┐ ┌───────────────────────────┐ │ │                   │ │      │ │               │ │ │Opernads                                  │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │ │Number  │ │Functor(rooted)            │ │ │                   │ │ ───► │ │               │ │ │ ┌────────┐ ┌───────────────────────────┐ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │ ├────────┤ ├───────────────────────────┤ │ │                   │ │      │ │               │ │ │ │Number  │ │Functor(rooted)            │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │ │4       │ │Variable                   │ │ │                   │ │      │ │               │ │ │ ├────────┤ ├───────────────────────────┤ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │ └────────┘ │c                          │ │ │                   │ │      │ │               │ │ │ │4       │ │Variable                   │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │Root                       │ │ │                   │ │      │ │               │ │ │ └────────┘ │c                          │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ ┌───────────────────────┐ │ │ │                   │ │      │ │               │ │ │            │Root                       │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ │Minus                  │ │ │ │                   │ │      │ │               │ │ │            │ ┌───────────────────────┐ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ ├───────────────────────┤ │ │ │                   │ │      │ │               │ │ │            │ │Minus                  │ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ │                       │ │ │ │                   │ │      │ │               │ │ │            │ ├───────────────────────┤ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ │ ┌─────────┐ ┌───────┐ │ │ │ │                   │ │      │ │               │ │ │            │ │                       │ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ │ │Variable │ │Literal│ │ │ │ │                   │ │      │ │               │ │ │            │ │ ┌─────────┐ ┌───────┐ │ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ │ ├─────────┤ ├───────┤ │ │ │ │                   │ │      │ │               │ │ │            │ │ │Variable │ │Literal│ │ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ │ │c        │ │1      │ │ │ │ │                   │ │      │ │               │ │ │            │ │ ├─────────┤ ├───────┤ │ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ │ └─────────┘ └───────┘ │ │ │ │                   │ │      │ │               │ │ │            │ │ │c        │ │1      │ │ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ │                       │ │ │ │                   │ │      │ │               │ │ │            │ │ └─────────┘ └───────┘ │ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │ └───────────────────────┘ │ │ │                   │ │      │ │               │ │ │            │ │                       │ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            │                           │ │ │                   │ │      │ │               │ │ │            │ └───────────────────────┘ │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │            └───────────────────────────┘ │ │                   │ │      │ │               │ │ │            │                           │ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ │                                          │ │                   │ │      │ │               │ │ │            └───────────────────────────┘ │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │ └──────────────────────────────────────────┘ │                   │ │      │ │               │ │ │                                          │ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ │                                              │                   │ │      │ │               │ │ └──────────────────────────────────────────┘ │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │ └──────────────────────────────────────────────┘                   │ │      │ │               │ │                                              │               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ │                                                                    │ │      │ │               │ └──────────────────────────────────────────────┘               │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │ └────────────────────────────────────────────────────────────────────┘ │      │ │               │                                                                │ │ │
                                                                                                                                                                                                                                                                                                                                                                                       │                                                                        │      │ │               └────────────────────────────────────────────────────────────────┘ │ │
                                                                                                                                                                                                                                                                                                                                                                                       └────────────────────────────────────────────────────────────────────────┘      │ │                                                                                  │ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       │ └──────────────────────────────────────────────────────────────────────────────────┘ │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       │                                                                                      │
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       └──────────────────────────────────────────────────────────────────────────────────────┘